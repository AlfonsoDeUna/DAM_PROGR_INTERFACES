### Guía paso a paso para crear un **Custom Control** basado en un botón existente en C# WinForms

En esta guía, aprenderás a crear un control personalizado en C# WinForms utilizando la técnica de herencia desde un control existente, como un botón.


#### **1. Configuración Inicial**
1. **Crea un nuevo proyecto:**
   - En Visual Studio, selecciona un nuevo proyecto de tipo **Windows Forms App**.
   - Nombralo, por ejemplo, `Programa1008`.
   
2. **Agrega una clase:**
   - Haz clic derecho en el proyecto, selecciona **Agregar > Clase**.
   - Llámala, por ejemplo, `MiControl`.


#### **2. Estructura de la Clase**
Define la clase y hereda de un control existente, como `Button`:
```csharp
using System;
using System.Drawing;
using System.Windows.Forms;
using System.ComponentModel;

public class MiControl : Button
{
    // Aquí añadiremos propiedades y lógica personalizada.
}
```


#### **3. Propiedad Personalizada**
Agrega una propiedad para modificar el comportamiento del botón (por ejemplo, que crezca cuando el mouse pase sobre él).

1. **Define un campo privado:**
   ```csharp
   private bool gigante = true; // Por defecto, es verdadero.
   ```

2. **Crea una propiedad pública con decoradores:**
   ```csharp
   [Description("Indica si el botón crecerá al pasar el mouse sobre él."), Category("Comportamiento"), DefaultValue(true)]
   public bool Gigante
   {
       get => gigante;
       set => gigante = value;
   }
   ```

   - **Descripción:** Muestra una descripción en el editor de propiedades.
   - **Categoría:** Clasifica la propiedad en una categoría específica del editor.
   - **Valor por defecto:** Define el valor predeterminado.

---

#### **4. Comportamiento Personalizado**
Sobrescribe el evento `OnMouseEnter` para modificar el tamaño del botón cuando el mouse pase sobre él:
```csharp
protected override void OnMouseEnter(EventArgs e)
{
    base.OnMouseEnter(e);

    if (gigante) // Si la propiedad es verdadera.
    {
        this.Size = new Size(150, 150); // Cambia el tamaño del botón.
    }
}
```

Sobrescribe también el evento `OnMouseLeave` para restaurar el tamaño original:
```csharp
protected override void OnMouseLeave(EventArgs e)
{
    base.OnMouseLeave(e);

    if (gigante) // Si la propiedad es verdadera.
    {
        this.Size = new Size(100, 50); // Restaura el tamaño predeterminado.
    }
}
```

#### **5. Construcción del Proyecto**
1. **Compila y construye el proyecto:**
   - Haz clic derecho en el proyecto y selecciona **Construir**.
   - Esto asegura que el nuevo control personalizado esté disponible en la **Toolbox**.



#### **6. Uso del Control Personalizado**
1. Abre el formulario principal del proyecto.
2. Arrastra el control personalizado desde la **Toolbox** (debería aparecer bajo el nombre del proyecto en la sección **Componentes**).
3. Configura la propiedad `Gigante` en el editor de propiedades:
   - **True:** El botón crecerá al pasar el mouse sobre él.
   - **False:** El botón permanecerá en su tamaño original.


#### **7. Verificación del Control**
1. **Ejecuta la aplicación.**
2. Mueve el mouse sobre el botón y observa cómo cambia de tamaño si la propiedad `Gigante` está activada.
3. Cambia la propiedad a `False` y verifica que el botón ya no crece al pasar el mouse.

---


